<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>TimeoutFlow Test</title>
</head>

<body>
    <h1>TimeoutFlow Testing</h1>
    <input id="search" placeholder="Type to debounce...">
    <script type="module">
        import { after, every, debounce, flow } from '../dist/timeout-flow.min.js';

        // Example 1: after
        after('1s', () => console.log('[test] Hello after 1s'));

        // Example 2: every + pause/resume
        let i = 0;

        function log_ticks() {
            console.log(`[test] Tick ${i++}`)
        }

        const ticker = every('1s', log_ticks, 5);
        after('2s', () => ticker.pause());
        after('4s', () => ticker.resume());

        // Example 3: debounce
        const logSearch = debounce('300ms', e => console.log('[test] Search:', e.target.value));
        document.getElementById('search').addEventListener('input', logSearch);

        // Example 4: flow timeline
        function test_flow() {
            flow()
                .after('1s', () => console.log('[flow] Step 1'))
                .every('500ms', i => console.log(`[flow] Tick ${i}`), 3)
                .after('1s', () => console.log('[flow] Done'))
                .start();
        }

        // Example 1: after
        after('6s', test_flow);


    </script>
</body>

</html>